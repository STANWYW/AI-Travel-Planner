# ğŸš€ DeepSeek ç›´æ¥ API é›†æˆå®Œæˆ

## âœ… åŠŸèƒ½æ¦‚è¿°

ç°åœ¨ç³»ç»Ÿæ”¯æŒ**ä¸¤ä¸ª AI æä¾›å•†**ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ï¼š

1. **OpenRouter**ï¼ˆé»˜è®¤ï¼‰
   - æ”¯æŒå¤šä¸ªå…è´¹æ¨¡å‹è‡ªåŠ¨åˆ‡æ¢
   - å¯ä»¥æ‰‹åŠ¨é€‰æ‹©ç‰¹å®šæ¨¡å‹
   - è‡ªåŠ¨é™çº§æœºåˆ¶ï¼ˆé™æµæ—¶åˆ‡æ¢ï¼‰

2. **DeepSeek**ï¼ˆæ–°å¢ï¼‰â­
   - ç›´æ¥è°ƒç”¨ DeepSeek API
   - æ›´å¿«çš„å“åº”é€Ÿåº¦
   - æ›´ç¨³å®šçš„æœåŠ¡
   - æ”¯æŒ 3 ç§æ¨¡å‹é€‰æ‹©

---

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### 1. è®¿é—®è®¾ç½®é¡µé¢

è®¿é—®ï¼šhttp://localhost/settings

### 2. é€‰æ‹© AI æä¾›å•†

åœ¨"AI æä¾›å•†é…ç½®"éƒ¨åˆ†ï¼š

**é€‰é¡¹ 1: OpenRouter**
- ç‚¹å‡» "OpenRouter" æŒ‰é’®
- è¾“å…¥ OpenRouter API Key
- é€‰æ‹©æ¨¡å‹ï¼ˆæˆ–é€‰æ‹©"è‡ªåŠ¨é€‰æ‹©"ï¼‰

**é€‰é¡¹ 2: DeepSeek** â­
- ç‚¹å‡» "DeepSeek" æŒ‰é’®
- è¾“å…¥ DeepSeek API Key
- é€‰æ‹©æ¨¡å‹ï¼š
  - DeepSeek Chatï¼ˆæ¨èï¼‰
  - DeepSeek Reasoner
  - DeepSeek Coder

### 3. ä¿å­˜é…ç½®

ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®

### 4. ä½¿ç”¨ AI ç”Ÿæˆè¡Œç¨‹

åˆ›å»ºæ—…è¡Œè®¡åˆ’åï¼Œç‚¹å‡»"ç”Ÿæˆè¡Œç¨‹"ï¼Œç³»ç»Ÿä¼šæ ¹æ®æ‚¨çš„é€‰æ‹©ä½¿ç”¨ç›¸åº”çš„ APIã€‚

---

## ğŸ“Š æ¨¡å‹å¯¹æ¯”

### OpenRouter æ¨¡å‹

| æ¨¡å‹ | è¯´æ˜ | æ¨èåº¦ |
|------|------|--------|
| è‡ªåŠ¨é€‰æ‹© | ç³»ç»Ÿè‡ªåŠ¨åˆ‡æ¢ï¼Œé¿å…é™æµ | â­â­â­â­â­ |
| DeepSeek Chat V3 | æœ€æ–°ç‰ˆæœ¬ï¼Œæ€§èƒ½ä¼˜ç§€ | â­â­â­â­â­ |
| DeepSeek R1 | æ¨ç†èƒ½åŠ›å¼º | â­â­â­â­ |
| DeepSeek R1T2 Chimera | æ··åˆæ¨¡å‹ | â­â­â­â­ |
| Google Gemini 2.0 | å¤‡ç”¨é€‰é¡¹ | â­â­â­ |

### DeepSeek æ¨¡å‹

| æ¨¡å‹ | è¯´æ˜ | æ¨èåº¦ |
|------|------|--------|
| DeepSeek Chat | é€šç”¨å¯¹è¯æ¨¡å‹ï¼Œæ¨è | â­â­â­â­â­ |
| DeepSeek Reasoner | æ¨ç†ä¸“ç”¨ï¼Œé€»è¾‘å¼º | â­â­â­â­ |
| DeepSeek Coder | ä»£ç ç”Ÿæˆï¼Œé€‚åˆæŠ€æœ¯åœºæ™¯ | â­â­â­ |

---

## ğŸ”§ æŠ€æœ¯å®ç°

### æ•°æ®åº“ Schema

```prisma
model ApiConfig {
  aiProvider       String?  @default("openrouter")
  selectedModel    String?
  openrouterKey    String?
  deepseekKey      String?
  // ... å…¶ä»–å­—æ®µ
}
```

### åç«¯æœåŠ¡

**1. DeepSeek æœåŠ¡** (`backend/src/services/deepseekService.ts`)
- ç›´æ¥è°ƒç”¨ DeepSeek API
- æ”¯æŒ 3 ç§æ¨¡å‹
- å®Œæ•´çš„é”™è¯¯å¤„ç†

**2. OpenRouter æœåŠ¡** (`backend/src/services/openrouterService.ts`)
- æ”¯æŒç”¨æˆ·é€‰æ‹©æ¨¡å‹
- è‡ªåŠ¨åˆ‡æ¢æœºåˆ¶
- é™æµå¤„ç†

**3. æ§åˆ¶å™¨** (`backend/src/controllers/travelPlanController.ts`)
- æ ¹æ® `aiProvider` é€‰æ‹©æœåŠ¡
- ä¼ é€’ `selectedModel` å‚æ•°

### å‰ç«¯è®¾ç½®é¡µé¢

**æ–°å¢åŠŸèƒ½**:
- AI æä¾›å•†é€‰æ‹©å™¨ï¼ˆRadio æŒ‰é’®ï¼‰
- æ¨¡å‹é€‰æ‹©å™¨ï¼ˆåŠ¨æ€æ˜¾ç¤ºï¼‰
- æ¡ä»¶æ˜¾ç¤º API Key è¾“å…¥æ¡†

---

## ğŸ“ API é…ç½®ç¤ºä¾‹

### OpenRouter é…ç½®

```json
{
  "aiProvider": "openrouter",
  "selectedModel": "deepseek/deepseek-chat-v3-0324:free",
  "openrouterKey": "sk-or-v1-..."
}
```

### DeepSeek é…ç½®

```json
{
  "aiProvider": "deepseek",
  "selectedModel": "deepseek-chat",
  "deepseekKey": "sk-..."
}
```

---

## ğŸ¨ ç•Œé¢æˆªå›¾è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI æä¾›å•†é…ç½®                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€‰æ‹© AI æä¾›å•†:                      â”‚
â”‚  [OpenRouter] [DeepSeek]            â”‚
â”‚                                      â”‚
â”‚  é€‰æ‹©æ¨¡å‹:                            â”‚
â”‚  [ä¸‹æ‹‰é€‰æ‹©æ¡†]                         â”‚
â”‚                                      â”‚
â”‚  OpenRouter API Key:                 â”‚
â”‚  [è¾“å…¥æ¡†] (ä»… OpenRouter æ—¶æ˜¾ç¤º)      â”‚
â”‚                                      â”‚
â”‚  æˆ–                                  â”‚
â”‚                                      â”‚
â”‚  DeepSeek API Key:                   â”‚
â”‚  [è¾“å…¥æ¡†] (ä»… DeepSeek æ—¶æ˜¾ç¤º)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | OpenRouter | DeepSeek |
|------|-----------|----------|
| å“åº”é€Ÿåº¦ | ä¸­ç­‰ | å¿« âš¡ |
| ç¨³å®šæ€§ | é«˜ï¼ˆè‡ªåŠ¨åˆ‡æ¢ï¼‰ | é«˜ â­ |
| æ¨¡å‹é€‰æ‹© | 5+ ä¸ª | 3 ä¸ª |
| é™æµå¤„ç† | è‡ªåŠ¨åˆ‡æ¢ | éœ€æ‰‹åŠ¨å¤„ç† |
| æ¨èåœºæ™¯ | å¤šæ¨¡å‹éœ€æ±‚ | ç¨³å®šå¿«é€Ÿ |

---

## ğŸ” è°ƒè¯•æŒ‡å—

### æŸ¥çœ‹ä½¿ç”¨çš„æä¾›å•†

**åç«¯æ—¥å¿—**:
```bash
docker-compose -f docker-compose.china.yml logs -f app | grep -E "DeepSeek|OpenRouter|æ¨¡å‹"
```

**é¢„æœŸè¾“å‡º**:
```
ä½¿ç”¨ DeepSeek æ¨¡å‹: deepseek-chat
æˆ–
å°è¯•ä½¿ç”¨æ¨¡å‹: deepseek/deepseek-chat-v3-0324:free
âœ… æˆåŠŸä½¿ç”¨æ¨¡å‹: deepseek/deepseek-chat-v3-0324:free
```

### æµ‹è¯• DeepSeek API

```bash
curl -X POST http://localhost/api/travel-plans/{planId}/generate \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json"
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### DeepSeek API Key è·å–

1. è®¿é—® https://platform.deepseek.com/
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ API Keys é¡µé¢
4. åˆ›å»ºæ–°çš„ API Key
5. å¤åˆ¶ Keyï¼ˆæ ¼å¼ï¼š`sk-...`ï¼‰

### OpenRouter API Key è·å–

1. è®¿é—® https://openrouter.ai/
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ Keys é¡µé¢
4. åˆ›å»ºæ–°çš„ API Key
5. å¤åˆ¶ Keyï¼ˆæ ¼å¼ï¼š`sk-or-v1-...`ï¼‰

### æ¨¡å‹é€‰æ‹©å»ºè®®

- **é¦–æ¬¡ä½¿ç”¨**: é€‰æ‹©"è‡ªåŠ¨é€‰æ‹©"ï¼ˆOpenRouterï¼‰æˆ–"DeepSeek Chat"ï¼ˆDeepSeekï¼‰
- **é‡åˆ°é™æµ**: åˆ‡æ¢åˆ° DeepSeek æˆ–é€‰æ‹©å…¶ä»–æ¨¡å‹
- **éœ€è¦æ¨ç†**: é€‰æ‹© DeepSeek Reasoner
- **éœ€è¦ç¨³å®š**: é€‰æ‹© DeepSeekï¼ˆç›´æ¥ APIï¼‰

---

## ğŸ¯ åŠŸèƒ½å®Œæˆåº¦

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| DeepSeek API é›†æˆ | âœ… 100% | å®Œæ•´å®ç° |
| æä¾›å•†é€‰æ‹© | âœ… 100% | OpenRouter/DeepSeek |
| æ¨¡å‹é€‰æ‹© | âœ… 100% | æ‰‹åŠ¨é€‰æ‹©æ”¯æŒ |
| è‡ªåŠ¨åˆ‡æ¢ | âœ… 100% | OpenRouter é™æµå¤„ç† |
| å‰ç«¯ UI | âœ… 100% | å®Œæ•´è®¾ç½®ç•Œé¢ |
| æ•°æ®åº“è¿ç§» | âœ… 100% | Schema æ›´æ–° |

**æ€»ä½“å®Œæˆåº¦: 100%** âœ…

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **è®¿é—®è®¾ç½®é¡µé¢**: http://localhost/settings
2. **é€‰æ‹© DeepSeek**: ç‚¹å‡» "DeepSeek" æŒ‰é’®
3. **è¾“å…¥ API Key**: ä» DeepSeek å¹³å°è·å–
4. **é€‰æ‹©æ¨¡å‹**: æ¨è "DeepSeek Chat"
5. **ä¿å­˜é…ç½®**: ç‚¹å‡»ä¿å­˜æŒ‰é’®
6. **åˆ›å»ºè®¡åˆ’**: ç”Ÿæˆè¡Œç¨‹æ—¶ä¼šä½¿ç”¨ DeepSeek

---

**å®ç°æ—¶é—´**: 2025-11-09  
**ç‰ˆæœ¬**: v2.1.0  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
